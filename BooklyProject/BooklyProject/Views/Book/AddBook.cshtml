@model BooklyProject.Entities.Book
@{
    ViewBag.Title = "AddBook";
    Layout = "~/Views/AdminLayout/Index.cshtml";
}

<h3>Yeni Kitap Ekle</h3>

<form asp-action="AddBook" method="post">

    <label>Kitap Adı</label>
    <input type="text" name="BookName" class="form-control" required />
    <br />

    <label>Yazar Adı</label>
    <input type="text" name="AuthorName" class="form-control" required />
    <br />

    <label>Yazar Soyadı</label>
    <input type="text" name="AuthorSurname" class="form-control" required />
    <br />

    <label>Kapak Resmi</label>
    <input type="text" name="CoverImageUrl" class="form-control" required />
    <br />

    <label>Fiyat</label>
    <input type="text" name="Price" class="form-control" required />
    <br />

    <label>İndirim Var mı? (Evet/Hayır)</label>
    <div class="form-check">
        <input type="radio" id="yes" name="isOnSale" value="yes" class="form-check-input" onchange="toggleDiscountInput()" required />
        <label class="form-check-label" for="yes">Evet</label>
    </div>
    <div class="form-check">
        <input type="radio" id="no" name="isOnSale" value="no" class="form-check-input" onchange="toggleDiscountInput()" required />
        <label class="form-check-label" for="no">Hayır</label>
    </div>
    <br />

    <label>İndirim Yüzdesi</label>
    <input type="text" name="DiscountRate" class="form-control" id="discountRate" disabled required />
    <br />

    <label>Puan</label>
    <input type="text" name="Review" class="form-control" required />
    <br />

    <button class="btn btn-outline-dark"><i class="fa fa-save"></i> Ekle</button>

</form>

<script>
    // İndirim durumu seçildiğinde DiscountRate input'unu kontrol et
    function toggleDiscountInput() {
        var discountRateInput = document.getElementById('discountRate');
        var isOnSaleYes = document.getElementById('yes').checked;

        // Evet seçildiyse, DiscountRate aktif olur
        if (isOnSaleYes) {
            discountRateInput.disabled = false; // Alanı aktif hale getir
        } else {
            discountRateInput.disabled = true; // Alanı pasif hale getir
            discountRateInput.value = ''; // Pasif olursa içeriği temizle
        }
    }

    // Sayfa yüklendiğinde kontrolü başlat
    window.onload = function () {
        toggleDiscountInput();
    }
</script>

